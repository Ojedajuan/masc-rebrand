<section class="d-flex flex-column">
  <!-- Jumbotron -->
  <div class="px-4 py-5 px-md-5 text-center text-lg-start bg-body-tertiary">
    <div class="container">
      <div class="row gx-lg-5 align-items-center">
        <div class="col-lg-6 mb-5 mb-lg-0">
          <div class="card">
            <div class="card-body py-5 px-md-5">
              <form
                class="form-register"
                [formGroup]="registrarForm"
                (ngSubmit)="onSubmit(registrarForm.value)"
              >
                <!-- 2 column grid layout with text inputs for the first and last names -->
                <div class="row">
                  <div class="col-md-6 mb-4">
                    <div class="form-outline">
                      <label class="form-label" for="fname">Nombre</label>

                      <input
                        input
                        class="form-control"
                        type="text"
                        formControlName="fname"
                        id="fname"
                        placeholder="Ingrese su nombre"
                        required
                      />

                      <span
                        *ngIf="
                          fname?.invalid && (fname?.dirty || fname?.touched)
                        "
                        class="text-danger"
                      >
                        <div *ngIf="fname?.errors?.['required']">
                          Se requiere un nombre
                        </div>
                        <div *ngIf="fname?.errors?.['minlength']">
                          El nombre debe tener más de 4 caracteres.
                        </div>
                        <div *ngIf="fname?.errors?.['maxlength']">
                          El nombre debe tener un máximo de 40 caracteres.
                        </div>
                      </span>
                    </div>
                  </div>
                  <div class="col-md-6 mb-4">
                    <div class="form-outline">
                      <label class="form-label" for="lname">Apellido</label>

                      <input
                        class="form-control"
                        type="text"
                        formControlName="lname"
                        id="lname"
                        placeholder="Ingrese su apellido"
                        required
                      />

                      <span
                        *ngIf="
                          lname?.invalid && (lname?.dirty || lname?.touched)
                        "
                        class="text-danger"
                      >
                        <div *ngIf="lname?.errors?.['required']">
                          Se requiere un apellido
                        </div>
                        <div *ngIf="lname?.errors?.['minlength']">
                          El apellido debe tener más de 3 caracteres.
                        </div>
                        <div *ngIf="lname?.errors?.['maxlength']">
                          El apellido debe tener un máximo de 40 caracteres.
                        </div>
                      </span>
                    </div>
                  </div>
                </div>

                <!-- Username input -->
                <div class="form-outline mb-4">
                  <label class="form-label" for="user">Nombre de Usuario</label>

                  <input
                    class="form-control"
                    type="text"
                    formControlName="user"
                    id="user"
                    placeholder="Ingrese su usuario"
                    required
                  />
                </div>

                <span
                  *ngIf="user?.invalid && (user?.dirty || user?.touched)"
                  class="text-danger"
                >
                  <div *ngIf="user?.errors?.['required']">
                    Se requiere un nombre de usuario
                  </div>
                  <div *ngIf="user?.errors?.['minlength']">
                    El nombre de usuario debe tener más de 4 caracteres.
                  </div>
                  <div *ngIf="user?.errors?.['maxlength']">
                    El nombre de usuario debe tener un máximo de 20 caracteres.
                  </div>
                </span>

                <!-- Email input -->
                <div class="form-outline mb-4">
                  <label class="form-label" for="mail">Email</label>

                  <input
                    class="form-control"
                    type="email"
                    formControlName="mail"
                    id="mail"
                    placeholder="Ingrese su correo electrónico"
                    required
                  />
                </div>

                <span
                  *ngIf="mail?.invalid && (mail?.dirty || mail?.touched)"
                  class="text-danger"
                >
                  <div *ngIf="mail?.errors?.['required']">
                    Se requiere un correo electrónico
                  </div>
                  <div *ngIf="mail?.errors?.['minlength']">
                    El correo electrónico debe tener más de 10 caracteres.
                  </div>
                  <div *ngIf="mail?.errors?.['pattern']">
                    El formato de correo electrónico no coincide.
                  </div>
                </span>

                <!-- Password input -->
                <label class="form-label" for="password">Contraseña</label>

                <div class="form-outline mb-4">
                  <input
                    class="form-control"
                    type="password"
                    formControlName="password"
                    id="password"
                    placeholder="Ingrese su contraseña"
                    required
                  />
                </div>

                <span
                  *ngIf="
                    password?.invalid && (password?.dirty || password?.touched)
                  "
                  class="text-danger"
                >
                  <div *ngIf="password?.errors?.['required']">
                    Se requiere una contraseña.
                  </div>
                  <div *ngIf="password?.errors?.['minlength']">
                    La contraseña debe tener más de 6 caracteres.
                  </div>
                  <div *ngIf="password?.errors?.['maxlength']">
                    La contraseña debe tener un máximo de 20 caracteres.
                  </div>
                </span>

                <!-- Submit button -->
                <button class="btn btn-success btn-block mb-4" type="submit">
                  Registrarse
                </button>
              </form>
              <ng-container *ngIf="resultado.mensaje != ''">
                <p>{{ resultado.mensaje }}</p>
                <ng-container *ngIf="resultado.status == 201"> </ng-container>
              </ng-container>
            </div>
          </div>
        </div>
        <div class="col-lg-6 mb-5 mb-lg-0">
          <h1 class="my-5 display-3 fw-bold ls-tight">
            Registrate para explorar<br />
            <span class="text-success"> todas nuestras secciones</span>
          </h1>
          <p style="color: hsl(217, 10%, 50.8%)">
            En M.A.S.C. tenemos la misión de promover la industria cultural del
            país, otorgándoles a los artistas y emprendedores culturales en
            general, diferentes herramientas para la comercialización o difusión
            de sus obras o servicios. ¿Qué estás esperando? Regístrate y sé
            parte de M.A.S.C.
          </p>
        </div>
      </div>
    </div>
  </div>
  <!-- Jumbotron -->
</section>
